= Documentation as Code
:description: Gives an introduction for the concept of documentation-as-code.
:keywords: concept, doc-as-code

include::partial$_attributes.adoc[]


{doc-as-code-icon}

== Introduction
Many newer projects at ASAM follow the concept of *Documentation as Code* (Doc-as-Code).
This concept refers to using the same tools and methods for documentation (or standardization) as for writing (software) code. +
The main benefit of this concept is the separation of content and text in documents from its layout rules and publishing.


== Concept
The general concept is to use established tools and processes from software development and apply them in the creation of documents.
At ASAM, the main aspects of this concept are:

* Writing documents in <<sec-plain-text-markup,plain text markup>>
* Using <<sec-versioning-repo,repositories with version control systems>>
* Collaborating on projects through <<sec-online-collaboration,online repository platforms>>
* Automation of repetitive steps using <<sec-automation-pipeline,automation pipelines>>

[#sec-plain-text-markup]
=== Plain text content files

At ASAM, the central aspect of this concept is the usage of https://en.wikipedia.org/wiki/Plain_text[plain text^] documents with a https://en.wikipedia.org/wiki/Markup_language[semantic markup language^] in creating standards and other documents, particularly the free https://asciidoc-py.github.io/index.html[AsciiDoc format^].
Its main benefit is the separation of content from style and layout rules, making it possible to specify general layout settings in a separate set of files and instructions for consistency over multiple projects.

Another benefit is that AsciiDoc files can be opened and edited with any type of text editor, making it a platform-agnostic format.
Different people can write content independent of the operating system on their work devices or requiring specific software licenses.

Finally, the content is decoupled from the target output, making it easy to generate different types of documentation from the same source files.


[tabs]
====
AsciiDoc source file::
+
--
image::Concepts/asciidoc_example.png[title=ASAM Foreword section in AsciiDoc (source)]
--
Rendered output::
+
--
image::Concepts/asciidoc_example-output.png[title=The same Foreword section rendered by Asciidoctor and Antora in HTML (rich output)]
--
====

// TIP: If you want to learn more about AsciiDoc and how to use its powers in writing technical documents, see the official https://docs.asciidoctor.org/asciidoc/latest/[**AsciiDoc Language Documentation**^] and the https://asciidoctor.org/docs/asciidoc-writers-guide/[Asciidoctor Writers Guide]. +
// Specific ASAM writing styles and rules can be found in the xref:compendium:Editorial_guide.adoc[**Editorial Guide**].

---

[#sec-versioning-repo]
=== Versioning and repositories
Using tool-supported document versioning is another main aspect in the Doc-as-Code approach.
ASAM projects use the software https://git-scm.com/[Git^] for this purpose. +
It allows for working on different parts, features, or versions of a project separately.
With Git, all separately developed parts can be merged again later.

Content is stored in so-called repositories.
Each repository consist of one or more branches.
At ASAM, there usually is one main branch (called "main" or (outdated) "master") and possibly one or more feature branches.
The central branch (also called the "trunk") acts as the agreed or released "official" state of the repository. +
When a change needs to be made, they are added through branches created from this trunk.
Each child branch targets a single aspect of development.
Once the development in a child branch has advanced enough, it's changes are merged back into the trunk.
This is done through a so-called Merge Request (MR), sometimes called a Pull Request (PR) instead.

image::Concepts/example-repo-workflow.drawio.svg[title=Repository workflow and branching example.]

TIP: If you want to learn more about Git itself, ASAM recommends online introductions and tutorials such as https://rogerdudler.github.io/git-guide/[**this one**^].

---

[#sec-online-collaboration]
=== Online collaboration
The work on standards, particularly at ASAM, is of collaborative nature:
People from different companies companies join in a project to develop something together. +
Online repository platforms like GitLab and GitHub support the collaboration by providing features for commenting and reviewing content changes as well as issue boards for creating and tracking topics.
In addition to that, they also integrate the same versioning and repository aspects described in the <<sec-versioning-repo,section above>>.

Using online collaboration platforms with repository support provide multiple benefits:

* They typically provide online editors for content, so users can choose to participate in projects xref:compendium:Tools/remote_repo.adoc[without having to install software] (besides any standard web browser)
* Merge Requests (Pull Requests) can be reviewed and commented on with a side-by-side preview in the browser (diff view)
* They act as central repository location for the project(s) that can be accessed from anywhere (provided the user has sufficient rights), so all involved people always have access to the latest submitted changes
* They enable central automation steps through <<sec-automation-pipeline,CI/CD pipelines>>, for example automated writing rules checks on a document after it was updated
* Integrated issue boards for keeping track of tasks, found problems, discussion topics, etc.

The <<fig-issue_example-gitlab,figure below>> shows an example issue from a project where a topic discussion takes place.

[#fig-issue_example-gitlab]
image::Concepts/issue_example.drawio.svg[title=Example for a topic discussion through the GitLab issue board in a project]

ASAM currently supports projects on both its internal GitLab instance as well as on the public GitHub.
Each project can decide independently which platform it will use.
GitLab is the most commonly used platform right now at ASAM.

---

[#sec-automation-pipeline]
=== Automation pipelines
Pipelines in online repositories allow to automate repetitive steps, such as building a document and checking for structural and grammatical errors.
ASAM projects typically automate the following steps:

* Convert AsciiDoc files to html using https://asciidoctor.org/[Asciidoctor^] or https://antora.org/[Antora^]
* https://en.wikipedia.org/wiki/Lint_(software)[Linting^] and testing documents for rules defined in the ASAM editorial guide and returning found errors
* Publishing results as pipeline artifacts for downloads or distribution
* Running project-specific scripts for additional features, such as converting uml diagrams to AsciiDoc files

These pipeline instructions are stored in text files in each repository.

In GitLab, they are stored as `.gitlab-ci.yml`. +
In GitHub, they are stored as "workflows" under `.github/workflows`.

In both cases, the file is written in "YAML".
If you want to learn more about pipelines, see https://docs.gitlab.com/ee/ci/quick_start/[the GitLab CI documentation^] or https://github.blog/2022-02-02-build-ci-cd-pipeline-github-actions-four-steps/[the GiHub blog^].